<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <title>çƒŸç«å¯„å¿ƒï¼Œæ„¿ä½ å®‰å¥½</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
      height: 100vh;
      overflow: hidden;
      font-family: "Microsoft YaHei", sans-serif;
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
    }
    #message {
      position: relative;
      z-index: 10;
      font-size: 2rem;
      text-shadow: 0 0 10px #00eeff, 0 0 20px #00eeff;
      animation: pulse 3s infinite alternate;
      max-width: 90%;
      pointer-events: none;
    }
    #click-hint {
      margin-top: 24px;
      font-size: 1.3rem;
      color: #00eeff;
      text-shadow:
        0 0 8px #00eeff,
        0 0 16px #00eeff,
        0 0 24px rgba(0, 238, 255, 0.7);
      letter-spacing: 2px;
      animation: 
        glow 2s infinite alternate,
        float 3s ease-in-out infinite;
      cursor: pointer;
      user-select: none;
      pointer-events: auto;
    }
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }
    @keyframes glow {
      from { text-shadow: 0 0 8px #00eeff, 0 0 16px #00eeff; }
      to   { text-shadow: 0 0 16px #00ffff, 0 0 32px #00eeff, 0 0 48px rgba(0, 255, 255, 0.8); }
    }
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50%      { transform: translateY(-8px); }
    }
    canvas {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
    #audio-tip {
      position: absolute;
      bottom: 20px;
      color: rgba(0, 238, 255, 0.7);
      font-size: 0.9rem;
      z-index: 20;
      opacity: 0;
      transition: opacity 0.5s;
    }

    /* === åŠ¨æ€å¼¹çª—åŸºç¡€æ ·å¼ï¼ˆå…³é”®ï¼šåˆå§‹é€æ˜ï¼‰=== */
    .dynamic-popup {
      position: fixed;
      padding: 12px 20px;
      border-radius: 16px;
      font-size: 1.1rem;
      font-weight: 600;
      text-align: center;
      pointer-events: none;
      z-index: 1000;
      opacity: 0; /* åˆå§‹é€æ˜ */
      white-space: normal;
      max-width: 80vw;
      word-break: break-word;
      transform: translateX(-50%);
      left: 50%;
    }
  </style>
</head>
<body>
  <div id="message">
    æƒ…äººèŠ‚å¿«ä¹ï¼Œæ„¿ä½ å®‰å¥½
    <div id="click-hint">âœ¨ ç‚¹å‡»æ”¾çƒŸèŠ± âœ¨</div>
  </div>
  <div id="audio-tip">ğŸµ éŸ³ä¹å·²å¼€å¯ Â· ã€ŠBiscuit and Teaã€‹</div>
  <canvas id="canvas"></canvas>

  <audio id="bgm" loop preload="auto">
    <source src="biscuit-and-tea.mp3" type="audio/mpeg">
  </audio>

  <script>
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    const bgm = document.getElementById('bgm');
    const audioTip = document.getElementById('audio-tip');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    window.addEventListener('resize', () => {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    });

    // === ğŸ‰ è¶…ä¸°å¯Œæ–‡æ¡ˆåº“ï¼ˆ50+æ¡ï¼Œå››å¤§ç±»ï¼‰===
    const messages = [
	// === ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ äº²æƒ…ç¥ç¦ Â· çˆ¶æ¯å®¶äººå¥åº·å¹³å®‰ï¼ˆ20æ¡ï¼Œå¸¦å¹¸ç¦è¡¨æƒ…ï¼‰===
	"â¤ï¸æ„¿çˆ¸å¦ˆèº«ä½“å®‰åº·ï¼Œç¬‘å®¹å¸¸åœ¨ğŸ˜Š",
	"ğŸ¡å®¶äººå¹³å®‰ï¼Œä¾¿æ˜¯æœ€å¤§çš„ç¦æ°”ğŸŒŸ",
	"ğŸ‘µğŸ‘´çˆ¶æ¯åº·å¥ï¼Œå²æœˆé™å¥½ï¼Œå¿ƒæœ‰æ‰€ä¾ğŸ’–",
	"ğŸ®é˜–å®¶å¹¸ç¦ï¼Œå›¢åœ†å¸¸åœ¨ï¼Œç¯ç«å¯äº²ğŸ’«",
	"âœ¨æ„¿å®¶ä¸­ç‚ŠçƒŸè¢…è¢…ï¼Œäº²äººæ— ç—…æ— ç¾ğŸ¥£",
	"ğŸ™çˆ¸å¦ˆå°‘æ“å¿ƒï¼Œå¤šäº«æ¸…ç¦ï¼Œåƒå¥½ç¡é¦™ğŸ›Œ",
	"ğŸ•¯ï¸å®¶æ˜¯æ¸¯æ¹¾ï¼Œæ„¿å®ƒæ°¸è¿œæ¸©æš–æ˜äº®ğŸŒˆ",
	"ğŸæ„¿çˆ¶æ¯è…¿è„šçµä¾¿ï¼Œçœ¼æ˜å¿ƒäº®ï¼Œèƒƒå£å€å„¿æ£’ï¼",
	"ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ä¸€å®¶å’Œå’Œç¾ç¾ï¼Œèƒœè¿‡ä¸‡åƒå¯Œè´µğŸ’°",
	"ğŸŒ¸æ„¿äº²æƒ…é•¿å­˜ï¼Œå²å²å¹´å¹´çš†æ¬¢æ„‰ ğŸ‹",
	"ğŸ²å¹´å¤œé¥­æ¡Œä¸Šï¼Œç¬‘å£°æ¯”èœè¿˜é¦™ğŸ˜‹",
	"ğŸ§§å²å²å¹³å®‰ï¼Œå¹´å¹´æœ‰ä»Šæ—¥ï¼Œå®¶å®¶æœ‰å›¢åœ†ğŸ®",
	"ğŸŒ¼çˆ¸å¦ˆçš„ç¬‘å®¹ï¼Œæ˜¯æˆ‘æœ€å¤§çš„æ–°å¹´æ„¿æœ›ğŸ’•",
	"ğŸ•Šï¸æ„¿è¿œæ–¹çš„ç‰µæŒ‚ï¼ŒåŒ–ä½œå½’å®¶çš„è„šæ­¥ğŸš¶â€â™€ï¸ğŸš¶â€â™‚ï¸",
	"ğŸ›ï¸çˆ¶æ¯ç¡å¾—å®‰ç¨³ï¼Œå­©å­æ¢¦å¾—é¦™ç”œï¼Œè¶³çŸ£ğŸŒ™",
	"ğŸ«¶å­æ¬²å…»ï¼Œäº²å¸¸åœ¨â€”â€”è¿™ä¾¿æ˜¯äººé—´è‡³å¹¸â¤ï¸",
	"ğŸµèŒ¶æš–ï¼Œé¥­é¦™ï¼Œè¯å®¶å¸¸ï¼Œå°±æ˜¯æœ€å¥½çš„å¹´ğŸ¥¢",
	"ğŸŒŸä¸æ±‚å¤§å¯Œå¤§è´µï¼Œåªæ„¿å…¨å®¶æ— æ™å®‰åº·ğŸ¤²",
	"ğŸæœ€å¥½çš„ç¤¼ç‰©ï¼Œæ˜¯é™ªä»–ä»¬æ…¢æ…¢å˜è€â³",
	"ğŸ’–å®¶äººåœ¨ï¼Œç¯äº®ç€ï¼Œå¿ƒå°±å®‰äº†ğŸ’¡",
	// === ğŸ’– æ¸©é¦¨ç¥ç¦ï¼ˆ20æ¡ï¼Œå¸¦å¹¸ç¦è¡¨æƒ…ï¼‰===
	"ğŸŒŸæ„¿ä½ æ–°å¹´èƒœæ—§å¹´ï¼Œæ¬¢å–œå¸¸ç›¸ä¼´ğŸŒ",
	"âœ¨å¿ƒä¹‹æ‰€å‘ï¼Œçš†æ˜¯é˜³å…‰ğŸŒ",
	"ğŸ†çƒŸç«ç…§å¤œç™½ï¼Œå–œä¹æ»¡å¿ƒæ€€ğŸ‡",
	"ğŸŒˆæ‰€æ±‚çš†å¦‚æ„¿ï¼Œæ‰€è¡ŒåŒ–å¦é€”âœ¨",
	"ğŸŒæ—¥æœ‰å°æš–ï¼Œå²æœ‰æ¸…æ¬¢ğŸ‚",
	"ğŸŒ¸æ˜¥é£åé‡Œï¼Œä¸å¦‚ä½ ç¬‘é¥å¦‚èŠ±ğŸ˜",
	"ğŸ’æ„¿çˆ±ä¸å¥½è¿ï¼Œå¦‚çƒŸèŠ±èˆ¬ä¸ºä½ ç»½æ”¾ğŸ‰",
	"ğŸ¤—æ–°çš„ä¸€å¹´ï¼Œè¢«ä¸–ç•Œæ¸©æŸ”ä»¥å¾…ğŸ’•",
	"ğŸ‘€çœ¼é‡Œæœ‰å…‰ï¼Œå¿ƒä¸­æœ‰çˆ±ï¼Œè„šä¸‹æœ‰è·¯ğŸŒˆ",
	"ğŸ’å¹³å®‰å–œä¹ï¼Œä¸‡äº‹èƒœæ„ğŸ™",
	"ğŸŒ»ç”Ÿæ´»æ˜æœ—ï¼Œä¸‡ç‰©å¯çˆ±ğŸ¾",
	"ğŸ’–æ„¿ä½ æ‰€å¾—çš†æ‰€æœŸï¼Œæ‰€å¤±äº¦æ— ç¢ğŸŒŸ",
	"ğŸˆæ„¿æ¯ä¸€ä¸ªæ˜å¤©éƒ½æ¯”ä»Šå¤©æ›´ç¾å¥½ğŸŒˆ",
	"ğŸŒ„å‰æ–¹çš„è·¯ï¼Œæ€»æœ‰æƒŠå–œåœ¨ç­‰å¾…ğŸŒŸ",
	"ğŸŒ¸äººç”Ÿè‹¥åªå¦‚åˆè§ï¼Œä½•äº‹ç§‹é£æ‚²ç”»æ‰‡ğŸ‚",
	"ğŸ’šç¥ç¦å¦‚æ˜¥é£ï¼Œä¼´éšä½ å·¦å³ğŸŒ¬ï¸",
	"ğŸ§¡æ¯ä¸€å¤©éƒ½æœ‰æ–°çš„å¸Œæœ›å’Œæ¢¦æƒ³â˜€ï¸",
	"ğŸ’™é˜³å…‰æ€»åœ¨é£é›¨åï¼Œè¯·ç›¸ä¿¡ä¼šæœ‰å½©è™¹ğŸŒˆ",
	"ğŸ’œæ„¿ä½ çš„ç”Ÿæ´»å……æ»¡è‰²å½©å’Œæ¬¢ä¹ğŸ¨",
	"ğŸ’—è®°ä½é‚£äº›ç¾å¥½çš„ç¬é—´ï¼Œè®©å®ƒä»¬æˆä¸ºæ°¸æ’â­",
	// === ğŸ§§ æ–°å¹´æ„¿æœ› Â· æš´å¯Œå˜ç¾è„±å•å¥½è¿ï¼ˆ20æ¡ï¼‰===
	"ğŸ’°æš´å¯Œï¼å­˜æ¬¾ç¿»å€ä¸æ˜¯æ¢¦ï¼ğŸ’°",
	"ğŸ’„å˜ç¾ï¼é¢œå€¼å¼€æŒ‚ï¼Œç´ é¢œå‘å…‰ï¼",
	"ğŸ’˜è„±å•ï¼æ­£ç¼˜é€Ÿé€Ÿå‡ºç°ï¼",
	"ğŸ›Œä¸åŠ ç­ï¼å‡†æ—¶ä¸‹ç­æ‘¸é±¼è‡ªç”±ï¼",
	"ğŸ§§çº¢åŒ…æ‹¿åˆ°æ‰‹è½¯ï¼",
	"ğŸ†å‡èŒåŠ è–ªï¼è€æ¿ä¸»åŠ¨æ¶¨å·¥èµ„ï¼",
	"âœˆï¸è¯´èµ°å°±èµ°çš„æ—…è¡Œå®‰æ’ä¸Šï¼",
	"ğŸ¶å…»åªå°ç‹—ï¼Œæ²»æ„ˆæ¯ä¸€å¤©ï¼",
	"ğŸ“šå­¦ä¹ å¼€æŒ‚ï¼Œè€ƒè¯•å…¨è¿‡ï¼",
	"ğŸ§˜â€â™€ï¸å¿ƒæ€è¶…ç¨³ï¼Œçƒ¦æ¼é€€æ•£ï¼",
	"ğŸ›ï¸ç¡åˆ°è‡ªç„¶é†’ï¼Œä¸ç”¨è®¾é—¹é’Ÿï¼",
	"ğŸ›’ä¹°ä¹°ä¹°ä¸å¿ƒç–¼ï¼",
	"ğŸ“±æ‰‹æœºæ°¸è¿œæœ‰ç”µï¼ŒWiFiæ»¡æ ¼ï¼",
	"ğŸ‚ç”Ÿæ—¥æ„¿æœ›å…¨éƒ¨å®ç°ï¼",
	"ğŸŒˆå¥½è¿å€¼æ‹‰æ»¡ï¼Œé”¦é²¤é™„ä½“ï¼",
	"âœ¨è‡ªä¿¡çˆ†æ£šï¼Œèµ°è·¯å¸¦é£ï¼",
	"ğŸ¯ç›®æ ‡è¾¾æˆï¼Œflag ä¸å€’ï¼",
	"ğŸ‘—è¡£æŸœçˆ†æ»¡ï¼Œç©¿å•¥éƒ½å¥½çœ‹ï¼",
	"ğŸœåƒä¸èƒ–ä½“è´¨ï¼Œå¯åŠ¨ï¼",
	"ğŸ’Œæ”¶åˆ°å¿ƒåŠ¨çš„æ¶ˆæ¯ï¼",
	// === ğŸ˜© åæ§½ç”Ÿæ´» Â· æ‰“å·¥äººå…±é¸£ï¼ˆ20æ¡ï¼Œå¸¦è¡¨æƒ…ï¼‰===
	"å·¥èµ„åƒå¤´å‘ï¼Œè¶Šæ¥è¶Šå°‘ğŸ’‡â€â™‚ï¸ğŸ“‰",
	"æˆ¿ç§Ÿæ¶¨å¾—æ¯”ä»£ç è·‘å¾—å¿«ğŸ ğŸ’¨",
	"åœ°é“æŒ¤æˆæ²™ä¸é±¼ï¼Œæ¢¦æƒ³è¿˜åœ¨åŠ è½½ğŸš‡â³",
	"æ³¡é¢åƒäº†ä¸‰å¹´ï¼Œå¨è‰ºè¿˜æ˜¯é›¶ğŸœğŸ¥²",
	"é“¶è¡Œå¡ä½™é¢ï¼šè´Ÿæ•°è­¦å‘Šâš ï¸ğŸ’¸",
	"è€æ¿è¯´â€˜å¤šåƒè‹¦â€™â€”â€”æˆ‘å¿«æˆè‹¦ç“œäº†ğŸ¥’ğŸ˜¤",
	"æ¢¦æƒ³å¾ˆä¸°æ»¡ï¼Œé’±åŒ…å¾ˆéª¨æ„ŸğŸ’­ğŸ«™",
	"ä¼šè®®ä¸€ä¸ªæ¥ä¸€ä¸ªï¼Œäº§å‡ºä¸ºé›¶ğŸ—“ï¸ğŸ˜´",
	"å‘¨ä¸€ç»¼åˆå¾ï¼Œé‡åº¦æ‚£è€…ğŸ“…ğŸ’Š",
	"éœ€æ±‚å¤©å¤©æ”¹ï¼Œæ–‡æ¡£æ²¡äººå†™ğŸ“ğŸ”„",
	"ç”µè„‘è“å±æ—¶ï¼Œæˆ‘å¿ƒä¹Ÿè“äº†ğŸ’»ğŸ’™",
	"å¹´ç»ˆå¥–ï¼Ÿèƒ½å‘æ³¡é¢æˆ‘å°±è°¢å¤©è°¢åœ°ğŸğŸœ",
	"ä¸Šç­å¦‚ä¸ŠåŸï¼Œå…¨é æ¼”æŠ€æ’‘ğŸ˜‘ğŸ­",
	"KPI åƒæœˆäº®ï¼Œçœ‹å¾—è§æ‘¸ä¸ç€ğŸŒ™ğŸ“Š",
	"AI éƒ½å¼€å§‹å†™ä»£ç äº†ï¼Œæˆ‘è¿˜åœ¨æ”¹ bugğŸ¤–ğŸ",
	"ä¸‹ç­æ—¶é—´åˆ°äº†ï¼Œä½†å·¥ä½ç„Šæ­»äº†ğŸ”’ğŸª‘",
	"ç²¾ç¥å†…è€—ä¸¥é‡ï¼Œç”µé‡åªå‰© 3%ğŸ”‹ğŸ§ ",
	"ç®€å†æŠ•äº† 100 ä»½ï¼Œå·²è¯»ä¸å› 99 æ¬¡ğŸ“©ğŸ‘»",
	"å›¢å»º=å ç”¨å‘¨æœ«ï¼Œè¿˜è‡ªè´¹ï¼ŸğŸ™…â€â™€ï¸ğŸšŒ",
	"å·¥èµ„æ²¡æ¶¨ï¼ŒPPT è¦æ±‚å˜ç”µå½±çº§ğŸ¥ğŸ“‰",
	// === ğŸ›‹ï¸ èººå¹³å“²å­¦ Â· ä½›ç³»è§£å‹ï¼ˆ10æ¡ï¼‰===
	"èººå¹³ä¸æ˜¯æ”¾å¼ƒï¼Œæ˜¯æˆ˜ç•¥æ€§èŠ‚èƒ½ğŸ”‹ğŸ§ ",
	"ä»Šæ—¥æˆå°±ï¼šæˆåŠŸå‘¼å¸24å°æ—¶ğŸŒ¬ï¸âœ…",
	"æˆ‘çš„KPIï¼šæ´»ç€ ğŸ’“ğŸ“ˆ",
	"å…è®¸è‡ªå·±å¶å°”åšä¸ªåºŸç‰©ğŸ§¸âœ¨",
	"æ…¢ä¸€ç‚¹ï¼Œä¹Ÿæ²¡å…³ç³»ğŸŒğŸŒˆ",
	"ä¸–ç•Œå¤ªåµï¼Œæˆ‘é€‰æ‹©é™éŸ³ğŸ”‡ğŸ§˜â€â™€ï¸",
	"åŠªåŠ›è¿‡äº†ï¼Œå‰©ä¸‹çš„äº¤ç»™å‘½è¿å§ğŸ¤²ğŸŒŒ",
	"ä¸å·äº†ï¼Œä»Šå¤©ä¸»æ‰“ä¸€ä¸ªéšç¼˜ğŸ²ğŸƒ",
	"ç”µé‡ä¸è¶³ï¼Œè¯·å‹¿æ‰“æ‰°âš¡ğŸ˜´",
	"æˆ‘çš„èƒ½é‡å·²è€—å°½ï¼Œæ­£åœ¨å……ç”µä¸­â€¦ğŸ”ŒğŸ’¤",
	"ä¸åšç‰›é©¬ï¼Œåªåšè‡ªå·±ğŸ®ğŸâ¡ï¸ğŸ‘‘",
	"æ‹’ç»å†…è€—ï¼Œä»å…³æ‰è„‘å­å¼€å§‹ğŸ§ âŒ",
	"åºŠä»¥å¤–çš„åœ°æ–¹éƒ½æ˜¯è¿œæ–¹ğŸ›ï¸ğŸŒ",
	"å‘å‘†æ˜¯æˆ‘ä»Šå¤©çš„é«˜å…‰æ—¶åˆ»â˜ï¸âœ¨",
	"ä¸äº‰ä¸æŠ¢ï¼Œå¿«ä¹æ— ä»·ğŸ•Šï¸ğŸ’",
	"äººç”Ÿä¸æ˜¯èµ›é“ï¼Œæ˜¯æ—·é‡ğŸŒ¾ğŸš¶â€â™€ï¸",
	"å…è®¸è‡ªå·±ä»Šå¤©ä»€ä¹ˆéƒ½ä¸åšğŸ™…â€â™‚ï¸ğŸ›‹ï¸",
	"ä¼‘æ¯ä¸æ˜¯æ‡’ï¼Œæ˜¯åˆšéœ€ğŸ›€â¤ï¸"
    ];

    // === å¼¹çª—æ ·å¼é…ç½® ===
    const palettes = [
      { bg: 'rgba(255, 100, 200, 0.9)', color: '#fff', border: '#ff64c8' },
      { bg: 'rgba(100, 255, 200, 0.9)', color: '#000', border: '#64ffc8' },
      { bg: 'rgba(255, 200, 100, 0.9)', color: '#000', border: '#ffc864' },
      { bg: 'rgba(100, 150, 255, 0.9)', color: '#fff', border: '#6496ff' },
      { bg: 'rgba(200, 100, 255, 0.9)', color: '#fff', border: '#c864ff' },
      { bg: 'rgba(255, 255, 255, 0.9)', color: '#ff64c8', border: '#ff64c8' }
    ];

    function createPopup(text, x, y) {
      const popup = document.createElement('div');
      popup.className = 'dynamic-popup';
      
      // éšæœºæ ·å¼
      const palette = palettes[Math.floor(Math.random() * palettes.length)];
      const fontSize = 1.0 + Math.random() * 0.4; // 1.0 ~ 1.4rem
      
      Object.assign(popup.style, {
        backgroundColor: palette.bg,
        color: palette.color,
        border: `2px solid ${palette.border}`,
        boxShadow: `0 4px 12px rgba(0,0,0,0.2)`,
        fontSize: `${fontSize}rem`,
        left: `${x}px`,
        top: `${y - 60}px`, // å‡ºç°åœ¨ç‚¹å‡»ç‚¹ä¸Šæ–¹
        opacity: '0',
        transform: 'translateX(-50%) translateY(0)',
        transition: 'none'
      });

      popup.textContent = text;
      document.body.appendChild(popup);

      // å¼ºåˆ¶é‡æ’åè§¦å‘åŠ¨ç”»
      void popup.offsetWidth;

      // æ·¡å…¥ + ä¸Šæµ®
      Object.assign(popup.style, {
        opacity: '1',
        transform: 'translateX(-50%) translateY(-10px)',
        transition: 'opacity 0.3s, transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275)'
      });

      // 2.2ç§’åæ·¡å‡º
      setTimeout(() => {
        popup.style.opacity = '0';
        popup.style.transform = 'translateX(-50%) translateY(-20px)';
        popup.style.transition = 'opacity 0.4s, transform 0.4s';
      }, 2200);

      // 2.6ç§’åç§»é™¤
      setTimeout(() => {
        if (popup.parentNode) popup.parentNode.removeChild(popup);
      }, 2600);
    }

    function getRandomMessage() {
      return messages[Math.floor(Math.random() * messages.length)];
    }

    // === çƒŸèŠ±ç²’å­ ===
    class Particle {
      constructor(x, y, color) {
        this.x = x;
        this.y = y;
        this.color = color;
        this.radius = Math.random() * 2 + 1;
        this.velocity = { x: (Math.random() - 0.5) * 8, y: (Math.random() - 0.5) * 8 };
        this.alpha = 1;
        this.decay = Math.random() * 0.03 + 0.015;
      }
      draw() {
        ctx.save();
        ctx.globalAlpha = this.alpha;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
        ctx.fillStyle = this.color;
        ctx.fill();
        ctx.closePath();
        ctx.restore();
      }
      update() {
        this.velocity.y += 0.05;
        this.x += this.velocity.x;
        this.y += this.velocity.y;
        this.alpha -= this.decay;
        this.draw();
        return this.alpha > 0;
      }
    }

    const colors = ['#00eeff', '#00ffff', '#4a00e0', '#0077ff', '#7df9ff'];
    let particles = [];
    let musicPlayed = false;

    function createFirework(x, y) {
      const color = colors[Math.floor(Math.random() * colors.length)];
      for (let i = 0; i < 100; i++) {
        particles.push(new Particle(x, y, color));
      }
    }

    function playMusic() {
      if (!musicPlayed) {
        bgm.volume = 0.3;
        bgm.play().then(() => {
          musicPlayed = true;
          audioTip.style.opacity = '1';
        }).catch(e => console.log("Audio play blocked"));
      }
    }

    function animate() {
      requestAnimationFrame(animate);
      ctx.fillStyle = 'rgba(15, 12, 41, 0.1)';
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      particles = particles.filter(p => p.update());
    }

    // === æ ¸å¿ƒç‚¹å‡»äº‹ä»¶ ===
    canvas.addEventListener('click', (e) => {
      const x = e.clientX;
      const y = e.clientY;
      createFirework(x, y);
      playMusic();
      createPopup(getRandomMessage(), x, y); // âœ… åœ¨ç‚¹å‡»ä½ç½®ä¸Šæ–¹å¼¹å‡º
    });

    animate();
  </script>
</body>
</html>
